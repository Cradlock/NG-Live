plugins {
    id 'java'
    id 'application'

    id("com.gradleup.shadow") version "9.3.1"
    id("org.flywaydb.flyway") version "12.0.1"
}



group = 'com.nglive'
version = '0.0.1'


repositories {
  mavenCentral()
}

application {
  mainClass = "io.vertx.core.Launcher"
}



def vertxVersion = "4.5.4"

dependencies {
  implementation "io.vertx:vertx-config:$vertxVersion"

  implementation "io.vertx:vertx-core:$vertxVersion"
  
  implementation "io.vertx:vertx-web:$vertxVersion"
  
  implementation "io.vertx:vertx-json-schema:$vertxVersion"

  implementation "ch.qos.logback:logback-classic:1.5.0"

  implementation "io.vertx:vertx-pg-client:$vertxVersion"

  implementation "io.vertx:vertx-mongo-client:$vertxVersion"
  
  implementation 'com.ongres.scram:client:2.1'

  implementation "org.flywaydb:flyway-database-postgresql:12.0.1"
  
  implementation 'org.postgresql:postgresql:42.6.0'
}



shadowJar{
  archiveClassifier.set("fat")

  manifest{
    attributes(
      'Main-Class': 'io.vertx.core.Launcher',
      'Main-Verticle': 'com.nglive.MainVerticle'
    )
  }

  mergeServiceFiles()
}


run {
  args = ['run','com.nglive.MainVerticle']
}

